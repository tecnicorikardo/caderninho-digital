<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Email - Caderninho Digital</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 0;
            width: 100%;
        }
        button:hover {
            background: #0056b3;
        }
        .test-button {
            background: #28a745;
        }
        .test-button:hover {
            background: #1e7e34;
        }
        input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .result {
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª Teste de Email - Caderninho Digital</h1>
        <p>Use esta pÃ¡gina para testar o envio de emails por relatÃ³rio.</p>
        
        <div>
            <label for="email">Seu Email:</label>
            <input type="email" id="email" placeholder="seu@email.com" value="">
        </div>
        
        <button class="test-button" onclick="testSimpleMailto()">
            ğŸ“§ Teste Simples (mailto)
        </button>
        
        <button onclick="testReportEmail()">
            ğŸ“Š Teste RelatÃ³rio de Vendas
        </button>
        
        <button onclick="testStockReport()">
            ğŸ“¦ Teste RelatÃ³rio de Estoque
        </button>
        
        <div id="result" class="result"></div>
        
        <hr style="margin: 30px 0;">
        
        <h3>ğŸ“‹ InstruÃ§Ãµes:</h3>
        <ol>
            <li>Digite seu email no campo acima</li>
            <li>Clique em um dos botÃµes de teste</li>
            <li>Seu cliente de email padrÃ£o deve abrir</li>
            <li>Verifique se o email estÃ¡ preenchido corretamente</li>
            <li>Envie o email para vocÃª mesmo</li>
            <li>Verifique se chegou na sua caixa de entrada</li>
        </ol>
        
        <h3>ğŸ”§ PossÃ­veis Problemas:</h3>
        <ul>
            <li><strong>Cliente de email nÃ£o abre:</strong> VocÃª pode nÃ£o ter um cliente configurado</li>
            <li><strong>Email nÃ£o chega:</strong> Pode estar no spam ou o cliente nÃ£o enviou</li>
            <li><strong>Erro no navegador:</strong> Alguns navegadores bloqueiam mailto</li>
        </ul>
        
        <h3>âœ… SoluÃ§Ãµes Alternativas:</h3>
        <ul>
            <li>Use Gmail, Outlook ou outro webmail</li>
            <li>Configure um cliente de email no seu computador</li>
            <li>Copie o conteÃºdo e cole manualmente no email</li>
        </ul>
    </div>

    <script>
        function getEmail() {
            const email = document.getElementById('email').value;
            if (!email) {
                showResult('Por favor, digite seu email primeiro!', 'error');
                return null;
            }
            return email;
        }
        
        function showResult(message, type) {
            const result = document.getElementById('result');
            result.textContent = message;
            result.className = `result ${type}`;
            result.style.display = 'block';
            
            setTimeout(() => {
                result.style.display = 'none';
            }, 5000);
        }
        
        function testSimpleMailto() {
            const email = getEmail();
            if (!email) return;
            
            try {
                const subject = 'Teste de Email - Caderninho Digital';
                const body = 'Este Ã© um teste simples de email do Caderninho Digital.\n\nSe vocÃª recebeu este email, o sistema estÃ¡ funcionando corretamente!';
                
                const mailtoUrl = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                
                console.log('Abrindo mailto:', mailtoUrl);
                window.open(mailtoUrl, '_blank');
                
                showResult('âœ… Cliente de email aberto! Verifique se o email foi preenchido e envie.', 'success');
            } catch (error) {
                console.error('Erro:', error);
                showResult('âŒ Erro ao abrir cliente de email: ' + error.message, 'error');
            }
        }
        
        function testReportEmail() {
            const email = getEmail();
            if (!email) return;
            
            try {
                const subject = 'ğŸ“Š RelatÃ³rio de Vendas - Teste';
                const body = `ğŸ“Š RELATÃ“RIO DE VENDAS
Data: ${new Date().toLocaleDateString('pt-BR')}
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… VENDAS DE HOJE
Vendas Hoje: 5
Faturamento Hoje: R$ 250,00

ğŸ“Š TOTAIS GERAIS
Total de Vendas: R$ 1.250,00
Quantidade de Vendas: 25
Ticket MÃ©dio: R$ 50,00

DETALHES DAS VENDAS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. JoÃ£o Silva - Produto A - R$ 50,00
2. Maria Santos - Produto B - R$ 75,00
3. Pedro Costa - Produto C - R$ 30,00

ğŸ“± Caderninho Digital - Sistema de GestÃ£o
RelatÃ³rio gerado automaticamente em ${new Date().toLocaleDateString('pt-BR')}`;
                
                const mailtoUrl = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                
                console.log('Abrindo relatÃ³rio de vendas:', mailtoUrl.substring(0, 100) + '...');
                window.open(mailtoUrl, '_blank');
                
                showResult('âœ… RelatÃ³rio de vendas aberto no cliente de email!', 'success');
            } catch (error) {
                console.error('Erro:', error);
                showResult('âŒ Erro ao abrir relatÃ³rio: ' + error.message, 'error');
            }
        }
        
        function testStockReport() {
            const email = getEmail();
            if (!email) return;
            
            try {
                const subject = 'ğŸ“¦ RelatÃ³rio de Estoque - Teste';
                const body = `ğŸ“¦ RELATÃ“RIO DE ESTOQUE
Data: ${new Date().toLocaleDateString('pt-BR')}
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Total de Produtos: 50
Produtos em Baixa: 3

âš ï¸ PRODUTOS EM BAIXA NO ESTOQUE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Produto A
   Quantidade Atual: 2
   Quantidade MÃ­nima: 5
   Status: ğŸ”´ CRÃTICO

2. Produto B
   Quantidade Atual: 4
   Quantidade MÃ­nima: 10
   Status: ğŸ”´ CRÃTICO

3. Produto C
   Quantidade Atual: 8
   Quantidade MÃ­nima: 15
   Status: ğŸŸ¡ BAIXO

ğŸ’¡ RECOMENDAÃ‡Ã•ES:
- ReabasteÃ§a os produtos em baixa o mais rÃ¡pido possÃ­vel
- Considere aumentar o estoque mÃ­nimo dos produtos mais vendidos
- Monitore regularmente o estoque para evitar rupturas

ğŸ“± Caderninho Digital - Sistema de GestÃ£o
RelatÃ³rio gerado automaticamente em ${new Date().toLocaleDateString('pt-BR')}`;
                
                const mailtoUrl = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                
                console.log('Abrindo relatÃ³rio de estoque:', mailtoUrl.substring(0, 100) + '...');
                window.open(mailtoUrl, '_blank');
                
                showResult('âœ… RelatÃ³rio de estoque aberto no cliente de email!', 'success');
            } catch (error) {
                console.error('Erro:', error);
                showResult('âŒ Erro ao abrir relatÃ³rio: ' + error.message, 'error');
            }
        }
        
        // Carregar email salvo
        window.onload = function() {
            const savedEmail = localStorage.getItem('testEmail');
            if (savedEmail) {
                document.getElementById('email').value = savedEmail;
            }
            
            // Salvar email quando digitado
            document.getElementById('email').addEventListener('input', function() {
                localStorage.setItem('testEmail', this.value);
            });
        };
    </script>
</body>
</html>